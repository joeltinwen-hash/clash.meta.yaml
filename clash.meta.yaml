port: 7890
socks-port: 7891
allow-lan: true
external-controller: ':9090'
global-client-fingerprint: chrome
log-level: info
mode: script
script:
  enable: true
  # æ³¨æ„ï¼šè¿™é‡Œçš„è„šæœ¬è·¯å¾„å·²ç»è¢«æˆ‘æ›¿æ¢æˆäº† CDN åŠ é€Ÿé“¾æ¥ï¼
  path: https://cdn.jsdelivr.net/gh/joeltinwen-hash/clash.meta.yaml@main/main.js
mitm:
  enable: true
  host:
    - '*.google.com'
    - '*.twitter.com'
    - 'api.example.com'
dns:
  enable: true
  listen: 0.0.0.0:1053
  ipv6: false
  use-hosts: true
  enhanced-mode: redir-host
  respect-rules: true
  fake-ip-range: 198.18.0.1/15
  default-nameserver: [223.5.5.5, 119.29.29.29]
  proxy-server-nameserver: [https://223.5.5.5/dns-query]
  nameserver: [https://dns.alidns.com/dns-query, https://doh.pub/dns-query]
  fallback: [https://1.1.1.1/dns-query, https://8.8.8.8/dns-query]
  fallback-filter: { geosite: [cn] }
  nameserver-policy:
    "geosite:cn,apple,category-games@cn": [223.5.5.5, 119.29.29.29]
    "geosite:private": [system]
proxy-providers:
  MySubscription:
    type: http
    # æ³¨æ„ï¼šè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ç»è¿‡â€œè„±æ•â€å¤„ç†çš„å®‰å…¨è®¢é˜…é“¾æ¥ï¼Œæ‚¨éœ€è¦ç”¨è‡ªå·±çš„æ›¿æ¢
    url: https://sub.xf.free.hr/api/v1/client/subscribe?token=YOUR_SECURE_TOKEN_HERE 
    interval: 3600
    path: ./proxies/sub.yaml
    health-check:
      enable: true
      url: http://www.google.com/generate_204
      interval: 600
proxy-groups:
  - {name: âœˆï¸ Proxies, type: select, use: [MySubscription]}
  - {name: ğŸ¯Direct, type: select, proxies: [DIRECT, âœˆï¸ Proxies]}
  - {name: ğŸš€ Final, type: select, proxies: [âœˆï¸ Proxies, ğŸ¯Direct]}
  - {name: ğŸ“º YouTube, type: select, proxies: [âœˆï¸ Proxies, ğŸ¯Direct]}
  - {name: ğŸ® Bahamut, type: select, proxies: [âœˆï¸ Proxies, ğŸ¯Direct]}
  - {name: ğŸ“š Manga Shelf, type: select, proxies: [âœˆï¸ Proxies, ğŸ¯Direct]}
  - {name: ğŸ¤– AI, type: select, proxies: [âœˆï¸ Proxies, ğŸ¯Direct]}
  - {name: ğŸ“² Telegram, type: select, proxies: [âœˆï¸ Proxies, ğŸ¯Direct]}
  - {name: ğŸ¦ Twitter, type: select, proxies: [âœˆï¸ Proxies, ğŸ¯Direct]}
  - {name: ğŸ’» Microsoft, type: select, proxies: [ğŸ¯Direct, âœˆï¸ Proxies]}
  - {name: ğŸ Apple, type: select, proxies: [ğŸ¯Direct, âœˆï¸ Proxies]}
  - {name: ğŸŒ Google, type: select, proxies: [âœˆï¸ Proxies, ğŸ¯Direct]}
  - {name: ğŸµ Tiktok, type: select, proxies: [âœˆï¸ Proxies, ğŸ¯Direct]}
rules:
  - MATCH,ğŸš€ Final
